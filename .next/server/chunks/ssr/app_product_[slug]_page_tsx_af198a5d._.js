module.exports=[9544,a=>{"use strict";let b,c;var d=a.i(51220),e=a.i(2295),f=a.i(41602),g=a.i(95451),h=a.i(43612),i=a.i(57748),j=a.i(35573),k=a.i(4328),l=a.i(47878),m=a.i(84980),n=a.i(51653),o=a.i(75663),p=a.i(26333),q=a.i(90542),r=a.i(76929),s=a.i(84247),t=a.i(75407),u=a.i(70382),v=a.i(28887),w=a.i(97895);function x({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card",className:(0,w.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...b})}function y({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-content",className:(0,w.cn)("px-6",a),...b})}var z=a.i(57554),A=a.i(39337);let B=a=>"boolean"==typeof a?`${a}`:0===a?"0":a,C=A.clsx,D=(b="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",c={variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}},a=>{var d;if((null==c?void 0:c.variants)==null)return C(b,null==a?void 0:a.class,null==a?void 0:a.className);let{variants:e,defaultVariants:f}=c,g=Object.keys(e).map(b=>{let c=null==a?void 0:a[b],d=null==f?void 0:f[b];if(null===c)return null;let g=B(c)||B(d);return e[b][g]}),h=a&&Object.entries(a).reduce((a,b)=>{let[c,d]=b;return void 0===d||(a[c]=d),a},{});return C(b,g,null==c||null==(d=c.compoundVariants)?void 0:d.reduce((a,b)=>{let{class:c,className:d,...e}=b;return Object.entries(e).every(a=>{let[b,c]=a;return Array.isArray(c)?c.includes({...f,...h}[b]):({...f,...h})[b]===c})?[...a,c,d]:a},[]),null==a?void 0:a.class,null==a?void 0:a.className)});function E({className:a,variant:b,size:c,asChild:e=!1,...f}){let g=e?z.Slot:"button";return(0,d.jsx)(g,{"data-slot":"button",className:(0,w.cn)(D({variant:b,size:c,className:a})),...f})}var F=a.i(98687);function G({name:a,price:b,image:c,slug:e}){return(0,d.jsx)(h.default,{href:`/product/${e}`,children:(0,d.jsx)(x,{className:"group border-0 shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden bg-card",children:(0,d.jsxs)(y,{className:"p-0",children:[(0,d.jsx)("div",{className:"relative aspect-square overflow-hidden",children:(0,d.jsx)(g.default,{src:(0,F.getSafeImageSrc)(c,"/placeholder.svg"),alt:(0,F.getSafeAltText)(a,"Sản phẩm"),fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-500"})}),(0,d.jsxs)("div",{className:"p-4",children:[(0,d.jsx)("h3",{className:"font-medium text-foreground text-base mb-2 line-clamp-2 min-h-[3rem]",children:a}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("p",{className:"text-primary font-semibold",children:b}),(0,d.jsx)(E,{size:"sm",variant:"outline",className:"text-xs border-primary text-primary hover:bg-primary hover:text-primary-foreground bg-transparent",children:"Xem chi tiết"})]})]})]})})})}var H=a.i(46143);function I({className:a,...b}){return(0,d.jsx)("textarea",{"data-slot":"textarea",className:(0,w.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...b})}var J=a.i(91290),K=a.i(32330),L=a.i(11343),M=a.i(64600),N=a.i(21973);let O=[{id:"gift-wrap",name:"Gói quà cao cấp",price:5e4},{id:"card",name:"Thiệp chúc mừng",price:2e4},{id:"delivery-express",name:"Giao hàng nhanh (2h)",price:1e5},{id:"setup",name:"Trang trí tại chỗ",price:2e5}];function P({params:a}){let{slug:b}=e.default.use(a),c=(0,L.getProductBySlug)(b);c||(0,f.notFound)();let{addToCart:x}=(0,J.useCart)(),{openCart:y}=(0,K.useCartSheet)(),[z,A]=(0,e.useState)(0),[B,C]=(0,e.useState)(1),[D,P]=(0,e.useState)([]),[Q,R]=(0,e.useState)(""),[S,T]=(0,e.useState)(!1),[U,V]=(0,e.useState)(!1),[W,X]=(0,e.useState)(!1),Y=L.products.filter(a=>a.category===c.category&&a.id!==c.id).slice(0,4),Z=(()=>{if(!c.price||"string"!=typeof c.price)return 0;let a=c.price.match(/[\d.]+/);return a&&parseFloat(a[0].replace(/\./g,""))||0})(),$=D.reduce((a,b)=>{let c=O.find(a=>a.id===b);return a+(c?.price||0)},0),_=(Z+$)*B,aa=async()=>{T(!0);try{x(c,B,D,Q),X(!0),setTimeout(()=>{T(!1),X(!1),y()},1e3)}catch(a){console.error("Error adding to cart:",a),T(!1)}};return(0,e.useEffect)(()=>{document.title=`${c.name} - Hoa Tươi Đ\xe0 Nẵng`},[c.name]),(0,d.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,d.jsx)(u.HeaderSection,{}),(0,d.jsx)("main",{className:"pt-24 pb-16",children:(0,d.jsxs)("div",{className:"mx-auto max-w-[1240px] px-4 lg:px-8",children:[(0,d.jsxs)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:N.premiumEase},className:"flex items-center gap-2 mb-8",children:[(0,d.jsx)(h.default,{href:"/",className:"text-[var(--text-secondary)] hover:text-[var(--primary)] transition-colors",children:"Trang chủ"}),(0,d.jsx)("span",{className:"text-[var(--text-muted)]",children:"/"}),(0,d.jsx)(h.default,{href:"/collection",className:"text-[var(--text-secondary)] hover:text-[var(--primary)] transition-colors",children:"Bộ sưu tập"}),(0,d.jsx)("span",{className:"text-[var(--text-muted)]",children:"/"}),(0,d.jsx)("span",{className:"text-[var(--text-primary)]",children:c.name})]}),(0,d.jsxs)("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-16 mb-16",children:[(0,d.jsxs)(i.motion.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.7,ease:N.premiumEase},className:"space-y-4",children:[(0,d.jsxs)("div",{className:"relative aspect-square overflow-hidden rounded-xl bg-[var(--background-muted)]",children:[(0,d.jsx)(g.default,{src:(0,F.getSafeImageSrc)(c.images[z],"/placeholder.svg?height=600&width=600"),alt:(0,F.getSafeAltText)(c.name,"Sản phẩm"),fill:!0,className:"object-cover",priority:!0}),(0,d.jsx)("button",{onClick:()=>V(!U),className:(0,w.cn)("absolute top-4 right-4 w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300",U?"bg-red-500 text-white":"bg-white/90 backdrop-blur-sm text-[var(--text-secondary)] hover:text-red-500"),children:(0,d.jsx)(j.Heart,{className:(0,w.cn)("w-5 h-5",U&&"fill-current"),strokeWidth:1.5})}),(0,d.jsx)("button",{className:"absolute top-4 left-4 w-12 h-12 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center text-[var(--text-secondary)] hover:text-[var(--primary)] transition-colors",children:(0,d.jsx)(k.Share2,{className:"w-5 h-5",strokeWidth:1.5})})]}),(0,d.jsx)("div",{className:"grid grid-cols-4 gap-3",children:c.images.map((a,b)=>(0,d.jsx)("button",{onClick:()=>A(b),className:(0,w.cn)("relative aspect-square overflow-hidden rounded-lg border-2 transition-all duration-300",z===b?"border-[var(--primary)] shadow-lg":"border-[var(--border-soft)] hover:border-[var(--primary)]/50"),children:(0,d.jsx)(g.default,{src:(0,F.getSafeImageSrc)(a,"/placeholder.svg?height=150&width=150"),alt:`${c.name} - Ảnh ${b+1}`,fill:!0,className:"object-cover"})},b))})]}),(0,d.jsxs)(i.motion.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.7,ease:N.premiumEase},className:"space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"font-display text-3xl lg:text-4xl font-semibold text-[var(--text-primary)] mb-3",children:c.name}),(0,d.jsx)("div",{className:"flex items-center gap-4 mb-4",children:(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[Array.from({length:5}).map((a,b)=>(0,d.jsx)(l.Star,{className:"w-5 h-5 fill-yellow-400 text-yellow-400",strokeWidth:1.5},b)),(0,d.jsx)("span",{className:"text-sm text-[var(--text-muted)] ml-2",children:"(4.9 • 127 đánh giá)"})]})}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("span",{className:"font-display text-3xl font-bold text-[var(--primary)]",children:c.price}),(0,d.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-sm font-medium rounded-full",children:"Còn hàng"})]})]}),(0,d.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,d.jsx)("p",{className:"text-[var(--text-secondary)] leading-relaxed",children:c.description})}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("label",{className:"font-medium text-[var(--text-primary)]",children:"Số lượng:"}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("button",{onClick:()=>C(Math.max(1,B-1)),className:"w-12 h-12 flex items-center justify-center rounded-full border border-[var(--border-soft)] hover:bg-[var(--background-muted)] transition-colors",children:(0,d.jsx)(n.Minus,{className:"w-5 h-5",strokeWidth:2})}),(0,d.jsx)("span",{className:"w-16 text-center font-semibold text-xl",children:B}),(0,d.jsx)("button",{onClick:()=>C(B+1),className:"w-12 h-12 flex items-center justify-center rounded-full border border-[var(--border-soft)] hover:bg-[var(--background-muted)] transition-colors",children:(0,d.jsx)(m.Plus,{className:"w-5 h-5",strokeWidth:2})})]})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("label",{className:"font-medium text-[var(--text-primary)]",children:"Dịch vụ thêm:"}),(0,d.jsx)("div",{className:"space-y-3",children:O.map(a=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-3 border border-[var(--border-soft)] rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(H.Checkbox,{id:a.id,checked:D.includes(a.id),onCheckedChange:()=>{var b;return b=a.id,void P(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])}}),(0,d.jsx)("label",{htmlFor:a.id,className:"font-medium cursor-pointer",children:a.name})]}),(0,d.jsxs)("span",{className:"font-semibold text-[var(--primary)]",children:["+",a.price.toLocaleString(),"đ"]})]},a.id))})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("label",{htmlFor:"note",className:"font-medium text-[var(--text-primary)]",children:"Ghi chú đặc biệt:"}),(0,d.jsx)(I,{id:"note",value:Q,onChange:a=>R(a.target.value),placeholder:"Ví dụ: Giao trước 10h sáng, thiệp ghi 'Chúc mừng sinh nhật'...",className:"min-h-[100px]"})]}),($>0||B>1)&&(0,d.jsx)("div",{className:"p-4 bg-[var(--background-muted)] rounded-xl",children:(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsxs)("span",{children:["Sản phẩm (",B,"x)"]}),(0,d.jsxs)("span",{children:[(Z*B).toLocaleString(),"đ"]})]}),$>0&&(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{children:"Dịch vụ thêm"}),(0,d.jsxs)("span",{children:[$.toLocaleString(),"đ"]})]}),(0,d.jsxs)("div",{className:"border-t border-[var(--border-soft)] pt-2 flex justify-between font-semibold",children:[(0,d.jsx)("span",{children:"Tổng cộng:"}),(0,d.jsxs)("span",{className:"text-[var(--primary)] text-lg",children:[_.toLocaleString(),"đ"]})]})]})}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)(E,{onClick:aa,disabled:S||0===Z,className:(0,w.cn)("w-full h-14 text-lg font-semibold transition-all duration-300",W&&"bg-green-500 hover:bg-green-600"),size:"lg",children:W?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Đã thêm vào giỏ hàng!"]}):S?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Đang thêm..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.ShoppingCart,{className:"w-5 h-5 mr-2",strokeWidth:1.5}),"Thêm vào giỏ hàng"]})}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,d.jsx)(E,{variant:"outline",size:"lg",asChild:!0,children:(0,d.jsxs)("a",{href:M.CONTACT.zaloLink,target:"_blank",rel:"noopener noreferrer",children:[(0,d.jsx)(s.MessageCircle,{className:"w-5 h-5 mr-2",strokeWidth:1.5}),"Chat Zalo"]})}),(0,d.jsx)(E,{variant:"outline",size:"lg",asChild:!0,children:(0,d.jsxs)("a",{href:M.CONTACT.phoneLink,children:[(0,d.jsx)(t.Phone,{className:"w-5 h-5 mr-2",strokeWidth:1.5}),"Gọi ngay"]})})]})]}),(0,d.jsx)("div",{className:"grid grid-cols-3 gap-4 pt-6 border-t border-[var(--border-soft)]",children:[{icon:p.Truck,text:"Giao hàng nhanh"},{icon:q.Shield,text:"Hoa tươi 100%"},{icon:r.Clock,text:"Hỗ trợ 24/7"}].map((a,b)=>(0,d.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-[var(--primary)]/10 rounded-full flex items-center justify-center mb-2",children:(0,d.jsx)(a.icon,{className:"w-6 h-6 text-[var(--primary)]",strokeWidth:1.5})}),(0,d.jsx)("span",{className:"text-sm font-medium text-[var(--text-secondary)]",children:a.text})]},b))})]})]}),Y.length>0&&(0,d.jsxs)(i.motion.section,{initial:"initial",animate:"animate",variants:N.staggerContainer,className:"space-y-8",children:[(0,d.jsxs)(i.motion.div,{variants:N.staggerItem,className:"text-center",children:[(0,d.jsx)("h2",{className:"font-display text-2xl lg:text-3xl font-semibold text-[var(--text-primary)] mb-4",children:"Sản phẩm liên quan"}),(0,d.jsx)("p",{className:"text-[var(--text-secondary)] max-w-2xl mx-auto",children:"Khám phá thêm những sản phẩm tương tự trong cùng danh mục"})]}),(0,d.jsx)(i.motion.div,{variants:N.staggerItem,className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:Y.map(a=>(0,d.jsx)(G,{id:a.id,name:a.name,price:a.price,image:a.image,slug:a.slug},a.id))})]})]})}),(0,d.jsx)(v.FooterSection,{})]})}a.s(["default",()=>P],9544)}];

//# sourceMappingURL=app_product_%5Bslug%5D_page_tsx_af198a5d._.js.map