{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACER/Desktop/Flower-Shop/contexts/cart-context.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { createContext, useContext, useReducer, ReactNode } from \"react\"\r\n\r\n// Types\r\nexport interface CartItem {\r\n  id: number\r\n  name: string\r\n  price: number\r\n  originalPrice?: number\r\n  image: string\r\n  quantity: number\r\n  variant?: string\r\n  category?: string\r\n}\r\n\r\ninterface CartState {\r\n  items: CartItem[]\r\n  isOpen: boolean\r\n}\r\n\r\ntype CartAction =\r\n  | { type: \"ADD_ITEM\"; payload: Omit<CartItem, \"quantity\"> }\r\n  | { type: \"REMOVE_ITEM\"; payload: number }\r\n  | { type: \"UPDATE_QUANTITY\"; payload: { id: number; quantity: number } }\r\n  | { type: \"CLEAR_CART\" }\r\n  | { type: \"TOGGLE_CART\" }\r\n  | { type: \"OPEN_CART\" }\r\n  | { type: \"CLOSE_CART\" }\r\n\r\ninterface CartContextType extends CartState {\r\n  addItem: (item: Omit<CartItem, \"quantity\">) => void\r\n  removeItem: (id: number) => void\r\n  updateQuantity: (id: number, quantity: number) => void\r\n  clearCart: () => void\r\n  toggleCart: () => void\r\n  openCart: () => void\r\n  closeCart: () => void\r\n  totalItems: number\r\n  subtotal: number\r\n  total: number\r\n  shipping: number\r\n}\r\n\r\n// Initial state\r\nconst initialState: CartState = {\r\n  items: [\r\n    // Sample items for demo\r\n    {\r\n      id: 1,\r\n      name: \"Hồng Pastel Ngọt Ngào\",\r\n      price: 450000,\r\n      originalPrice: 550000,\r\n      image: \"/pastel-pink-roses-bouquet-soft-elegant.jpg\",\r\n      quantity: 1,\r\n      variant: \"Size M\",\r\n      category: \"Hoa tươi\"\r\n    },\r\n    {\r\n      id: 2,\r\n      name: \"Lẵng Hoa Hồng Đỏ\",\r\n      price: 680000,\r\n      image: \"/red-roses-luxury-basket-arrangement.jpg\",\r\n      quantity: 1,\r\n      variant: \"Size L\",\r\n      category: \"Lẵng hoa\"\r\n    }\r\n  ],\r\n  isOpen: false\r\n}\r\n\r\n// Reducer\r\nfunction cartReducer(state: CartState, action: CartAction): CartState {\r\n  switch (action.type) {\r\n    case \"ADD_ITEM\": {\r\n      const existingItem = state.items.find(item => item.id === action.payload.id)\r\n      \r\n      if (existingItem) {\r\n        return {\r\n          ...state,\r\n          items: state.items.map(item =>\r\n            item.id === action.payload.id\r\n              ? { ...item, quantity: item.quantity + 1 }\r\n              : item\r\n          )\r\n        }\r\n      }\r\n      \r\n      return {\r\n        ...state,\r\n        items: [...state.items, { ...action.payload, quantity: 1 }]\r\n      }\r\n    }\r\n    \r\n    case \"REMOVE_ITEM\":\r\n      return {\r\n        ...state,\r\n        items: state.items.filter(item => item.id !== action.payload)\r\n      }\r\n    \r\n    case \"UPDATE_QUANTITY\":\r\n      if (action.payload.quantity <= 0) {\r\n        return {\r\n          ...state,\r\n          items: state.items.filter(item => item.id !== action.payload.id)\r\n        }\r\n      }\r\n      \r\n      return {\r\n        ...state,\r\n        items: state.items.map(item =>\r\n          item.id === action.payload.id\r\n            ? { ...item, quantity: action.payload.quantity }\r\n            : item\r\n        )\r\n      }\r\n    \r\n    case \"CLEAR_CART\":\r\n      return {\r\n        ...state,\r\n        items: []\r\n      }\r\n    \r\n    case \"TOGGLE_CART\":\r\n      return {\r\n        ...state,\r\n        isOpen: !state.isOpen\r\n      }\r\n    \r\n    case \"OPEN_CART\":\r\n      return {\r\n        ...state,\r\n        isOpen: true\r\n      }\r\n    \r\n    case \"CLOSE_CART\":\r\n      return {\r\n        ...state,\r\n        isOpen: false\r\n      }\r\n    \r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n// Context\r\nconst CartContext = createContext<CartContextType | undefined>(undefined)\r\n\r\n// Provider\r\nexport function CartProvider({ children }: { children: ReactNode }) {\r\n  const [state, dispatch] = useReducer(cartReducer, initialState)\r\n\r\n  // Calculate derived values\r\n  const totalItems = state.items.reduce((sum, item) => sum + item.quantity, 0)\r\n  const subtotal = state.items.reduce((sum, item) => sum + (item.price * item.quantity), 0)\r\n  const shipping = subtotal > 500000 ? 0 : 30000 // Free shipping over 500k\r\n  const total = subtotal + shipping\r\n\r\n  // Actions\r\n  const addItem = (item: Omit<CartItem, \"quantity\">) => {\r\n    dispatch({ type: \"ADD_ITEM\", payload: item })\r\n  }\r\n\r\n  const removeItem = (id: number) => {\r\n    dispatch({ type: \"REMOVE_ITEM\", payload: id })\r\n  }\r\n\r\n  const updateQuantity = (id: number, quantity: number) => {\r\n    dispatch({ type: \"UPDATE_QUANTITY\", payload: { id, quantity } })\r\n  }\r\n\r\n  const clearCart = () => {\r\n    dispatch({ type: \"CLEAR_CART\" })\r\n  }\r\n\r\n  const toggleCart = () => {\r\n    dispatch({ type: \"TOGGLE_CART\" })\r\n  }\r\n\r\n  const openCart = () => {\r\n    dispatch({ type: \"OPEN_CART\" })\r\n  }\r\n\r\n  const closeCart = () => {\r\n    dispatch({ type: \"CLOSE_CART\" })\r\n  }\r\n\r\n  const value: CartContextType = {\r\n    ...state,\r\n    addItem,\r\n    removeItem,\r\n    updateQuantity,\r\n    clearCart,\r\n    toggleCart,\r\n    openCart,\r\n    closeCart,\r\n    totalItems,\r\n    subtotal,\r\n    total,\r\n    shipping\r\n  }\r\n\r\n  return (\r\n    <CartContext.Provider value={value}>\r\n      {children}\r\n    </CartContext.Provider>\r\n  )\r\n}\r\n\r\n// Hook\r\nexport function useCart() {\r\n  const context = useContext(CartContext)\r\n  if (context === undefined) {\r\n    throw new Error(\"useCart must be used within a CartProvider\")\r\n  }\r\n  return context\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACER/Desktop/Flower-Shop/node_modules/.pnpm/next%4016.0.7_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 221, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACER/Desktop/Flower-Shop/node_modules/.pnpm/next%4016.0.7_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,uMACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 226, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ACER/Desktop/Flower-Shop/node_modules/.pnpm/next%4016.0.7_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,uMACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}